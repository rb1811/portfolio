name: Reflex Portfolio Deployment to GitHub Pages

# ... (on: and jobs: definitions remain the same)

jobs:
Â  build_and_deploy:
Â  Â  runs-on: ubuntu-latest
Â  Â Â 
Â  Â  permissions:
Â  Â  Â  contents: writeÂ 
Â  Â  Â  pages: writeÂ  Â Â 
Â  Â  Â Â 
Â  Â  steps:
Â  Â  Â  - name: ğŸ“¦ Checkout Repository
Â  Â  Â  Â  uses: actions/checkout@v4
Â  Â  Â  Â  with:
Â  Â  Â  Â  Â  fetch-depth: 0Â 

Â  Â  Â  - name: ğŸ Set up Python 3.11
Â  Â  Â  Â  uses: actions/setup-python@v5
Â  Â  Â  Â  with:
Â  Â  Â  Â  Â  python-version: "3.11"
Â  Â  Â  Â  Â  cache: 'pip'Â 
Â  Â  Â  Â  Â Â 
Â  Â  Â  - name: ğŸ› ï¸ Install Dependencies (Reflex)
Â  Â  Â  Â  run: pip install reflex
Â  Â  Â  Â  Â Â 
Â  Â  Â  - name: âœ¨ Build and Export Frontend
Â  Â  Â  Â  # The files are generated into .web/out
Â  Â  Â  Â  run: reflex exportÂ 

Â  Â  Â  - name: ğŸ“‚ Prepare Deployment Directory â¬…ï¸ CRITICAL FIX ADDED
Â  Â  Â  Â  run: |
Â  Â  Â  Â  Â  # Create a non-hidden directory
Â  Â  Â  Â  Â  mkdir build
Â  Â  Â  Â  Â  # Move the exported files into the new directory
Â  Â  Â  Â  Â  mv .web/out/* build/

Â  Â  Â  - name: ğŸš€ Deploy to GitHub Pages
Â  Â  Â  Â  uses: peaceiris/actions-gh-pages@v4
Â  Â  Â  Â  with:
Â  Â  Â  Â  Â  github_token: ${{ secrets.GITHUB_TOKEN }}
Â  Â  Â  Â  Â  publish_branch: gh-pages
Â  Â  Â  Â  Â  # CRITICAL: Publish the new 'build' folder
Â  Â  Â  Â  Â  publish_dir: ./build # <--- CHANGED THIS LINE
Â  Â  Â  Â  Â  commit_message: ${{ github.event.inputs.reason || 'Automated deployment by GitHub Actions' }}
